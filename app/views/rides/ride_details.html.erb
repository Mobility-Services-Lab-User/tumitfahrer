
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>

<% provide(:title, "Ride Details") %>
<h1>Ride Details</h1>

<p>Ride Information</p>

<%= @ride.departure_place %>

<script type="text/javascript">

  var directionsDisplay;
  var directionsService = new google.maps.DirectionsService();

    function initialize() {
        directionsDisplay = new google.maps.DirectionsRenderer();
       var latlng = new google.maps.LatLng(48.256044, 11.650857);
       var myOptions = {
                    zoom: 8,
                    center: latlng,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var map = new google.maps.Map(document.getElementById("map_canvas"),
                        myOptions);
        directionsDisplay.setMap(map);


var marker=new google.maps.Marker({
position:latlng

});
marker.setMap(map);
Route();
}

function Route() {

var start = new google.maps.LatLng(48.256044, 11.650857);
var end =new google.maps.LatLng(48.372313, 10.894056);
var request = {
origin:start,
destination:end,
travelMode: google.maps.TravelMode.WALKING
 };
 directionsService.route(request, function(result, status) {
if (status == google.maps.DirectionsStatus.OK) {

  directionsDisplay.setDirections(result);
}
});
} 


    google.maps.event.addDomListener(window, "load", initialize);

</script>
<div id="map_canvas" style="height:300px; width:500px;"></div>

