<script src="http://maps.google.com/maps/api/js?sensor=false&libraries=places" type="text/javascript"></script>


<%= javascript_include_tag "typeahead.js" %>
<%= javascript_include_tag "typeahead-addresspicker.js" %>


<% provide(:title, "New ride") %>
<h1>Add a great ride</h1>

<%= form_tag rides_path, :method => :get do %>
    <div class="field">

        <%= label_tag :departure_place %>
        <%= text_field_tag :departure_place %>

        <br>


        <%= label_tag :destination %>
        <%= text_field_tag :destination %>

        <br>
        <br>

        <%= label_tag :departure_time %>
        <%= text_field_tag :departure_time %>

        <%= label_tag :free_seats %>
        <%= text_field_tag :free_seats %>

        <%= label_tag :meeting_point%>
        <%= text_field_tag :meeting_point %>

      <div class="actions"><%= submit_tag "Add a new ride" %></div>

</div>

<% end %>




<script>

    $(document).ready(function () {
        var addressPicker = new AddressPicker();
        $('#departure_place').typeahead(null, {
            displayKey: 'description',
            source: addressPicker.ttAdapter()
        });
        $('#destination').typeahead(null, {
            displayKey: 'description',
            source: addressPicker.ttAdapter()
        });
    });
</script>
