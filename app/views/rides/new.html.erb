<script src="http://maps.google.com/maps/api/js?sensor=false&libraries=places" type="text/javascript"></script>

<%= javascript_include_tag "typeahead.js" %>
<%= javascript_include_tag "typeahead-addresspicker.js" %>



<% provide(:title, "New ride") %>
<h1>Add a great ride</h1>

<div class="row">
  <div class="col-xs-6 col-xs-offset-3">
    <%= form_for(@ride) do |f| %>
        <%= render 'shared/error_messages', object: f.object %>

        <%= f.label :departure_place %>
        <%= f.text_field :departure_place %>

        <%= f.label :destination %>
        <%= f.text_field :destination %>

        <%= f.label :departure_time %>
        <%= f.text_field :departure_time %>

        <%= f.label :free_seats %>
        <%= f.text_field :free_seats %>

        <%= f.label :meeting_point%>
        <%= f.text_field :meeting_point %>

        <%= f.label :ride_type%>
        <%= f.text_field :ride_type %>

        <%= f.submit "Add new ride", class: "btn btn-large btn-primary" %>

    <% end %>
  </div>
</div>




<script>

    $(document).ready(function () {
        var addressPicker = new AddressPicker();
        $('#departure_place').typeahead(null, {
            displayKey: 'description',
            source: addressPicker.ttAdapter()
        });
        $('#destination').typeahead(null, {
            displayKey: 'description',
            source: addressPicker.ttAdapter()
        });
    });
</script>